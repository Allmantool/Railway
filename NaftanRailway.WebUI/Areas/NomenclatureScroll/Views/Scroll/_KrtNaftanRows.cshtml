@using NaftanRailway.Domain.Concrete.DbContexts.ORC;
@model IEnumerable<krt_Naftan>
@{ var i = 0;}

@foreach (var item in Model) {
    <tr class="@(item.Confirmed ? "" : "success")">
        <td>
            <input type="radio" name="optionsRadios" id="optionsRadios@(i++)" class="radio">
            <input type="hidden" class="hidden confirmed" value="@item.Confirmed.ToString()" />
        </td>
        <td class="numberScroll">@item.NKRT</td>
        <td>
            @if (item.ErrorState != null) {
                <img alt="@(item.ErrorState.Value == 1 ? "Ок" : item.ErrorState.Value == 2 ? "tdoc=0" : "Ошибка")"
                     src="@(item.ErrorState.Value == 1 ? "/Content/Images/good_or_tick.png" : item.ErrorState.Value == 2 ? "/Content/Images/repair.png" : "/Content/Images/no.png")"
                     style="width: 24px; height: 24px" />
            }
        </td>
        <td class="singCorrection"><span class="@(item.SignAdjustment_list ? "glyphicon glyphicon-ok" : "")"></span></td>
        <td>@item.P_TYPE</td>
        <td class="DTBUHOTCHET">@item.DTBUHOTCHET.ToString("MMMM yyyy")</td>
        <td>@item.NTREB</td>
        <td>@(item.DTTREB == null ? "" : item.DTTREB.Value.ToString("dd.MM.yyyy"))</td>
        <td class="currencyField text-right">@((item.KEYKRT >= 15072000209229) ? item.SMTREB.ToString("#,0.00") : item.SMTREB.ToString("#,#"))</td>
        <td class="currencyField text-right">@((item.KEYKRT >= 15072000209229) ? item.NDSTREB.ToString("#,0.00") : item.NDSTREB.ToString("#,#"))</td>
        <td>@item.StartDate_PER.ToString("dd.MM.yyyy")</td>
        <td>@item.EndDate_PER.ToString("dd.MM.yyyy")</td>
        <td>@String.Join(", ", @item.Scroll_Sbor.Split(','))</td>
        <td>@item.RecordCount</td>
        <td>@item.DATE_OBRABOT</td>
        <td>@(item.CounterVersion <= 1 ? "" : item.CounterVersion.ToString())</td>
    </tr>
}